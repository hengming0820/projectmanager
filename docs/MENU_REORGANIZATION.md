# 导航栏菜单重组说明

## 🎯 变更概述

对系统导航栏进行了重新组织，以提供更清晰的功能分类和更好的用户体验。

**更新日期**: 2025-10-16  
**版本**: v1.0

---

## 📊 菜单结构对比

### 🔴 旧版菜单结构

```
├─ Dashboard（仪表板）
├─ 项目与任务
│  ├─ 项目仪表板
│  ├─ 项目管理
│  ├─ 任务池
│  ├─ 我的工作台
│  └─ 任务审核
├─ 工作日志
│  └─ 周列表
├─ 团队协作
│  └─ 文档
├─ 知识与文章
│  ├─ 会议记录
│  └─ 模型测试
├─ 绩效系统
│  ├─ 团队绩效
│  └─ 我的绩效
└─ 系统管理
   ├─ 用户管理
   └─ 角色管理
```

### 🟢 新版菜单结构

```
├─ Dashboard（仪表板）
├─ 项目管理 ⭐ 新分组
│  ├─ 项目仪表板
│  └─ 项目列表（原"项目管理"改名）
├─ 标注任务 ⭐ 新分组
│  ├─ 任务池
│  ├─ 我的工作台
│  └─ 任务审核
├─ 工作日志
│  └─ 周列表
├─ 知识与文章
│  ├─ 会议记录
│  ├─ 模型测试
│  └─ 团队协作 ⭐ 从原"团队协作"模块移入，原"文档"改名
├─ 标注绩效（原"绩效系统"改名）
│  ├─ 个人绩效（原"我的绩效"改名，顺序提前）
│  └─ 团队绩效
└─ 系统管理
   ├─ 用户管理
   └─ 角色管理
```

---

## 📝 详细变更

### 1. **项目管理** （新增一级菜单）

**路径**: `/project`  
**图标**: `&#xe761;`

- ✅ **项目仪表板** - 保持不变
- ✅ **项目列表** - 原"项目管理"改名，更贴切地描述功能

**变更原因**:

- 将项目相关功能独立出来
- "项目列表"更准确地反映了页面功能（显示项目列表和管理）

---

### 2. **标注任务** （新增一级菜单）

**路径**: `/task`  
**图标**: `&#xe70f;`

- ✅ **任务池** - 从原"项目与任务"移入
- ✅ **我的工作台** - 从原"项目与任务"移入
- ✅ **任务审核** - 从原"项目与任务"移入

**变更原因**:

- 将任务管理功能独立成专门的模块
- "标注任务"更符合系统的核心业务（医学影像标注）
- 标注员可以更专注地管理自己的任务

---

### 3. **知识与文章** （增加子菜单）

**路径**: `/articles`  
**图标**: `&#xe63a;`

- ✅ **会议记录** - 保持不变
- ✅ **模型测试** - 保持不变
- ✅ **团队协作** - ⭐ 新增，原"团队协作"模块的"文档"功能移入

**变更原因**:

- 将所有知识型内容集中在一起
- 团队协作文档本质上也是知识和文章的一种形式
- 减少一级菜单数量，提升导航效率

**注意事项**:

- 原"团队协作"模块的隐藏页面（创建文档、文档详情）一并移入

---

### 4. **标注绩效** （改名并调整顺序）

**路径**: `/performance`  
**图标**: `&#xe860;`

- ✅ **个人绩效** - 原"我的绩效"改名，顺序提前
- ✅ **团队绩效** - 保持不变，顺序靠后

**变更原因**:

- "标注绩效"更符合系统的核心业务
- "个人绩效"比"我的绩效"更正式
- 个人绩效放在第一位，因为用户更关心自己的绩效

---

### 5. **其他菜单** （保持不变）

- ✅ **Dashboard** - 保持不变
- ✅ **工作日志** - 保持不变
- ✅ **系统管理** - 保持不变

---

## 🔧 技术实现

### 修改的文件

- `backend/app/api/menu.py` - 后端菜单配置

### 关键变更

1. **拆分"项目与任务"模块**

   - 项目相关功能 → "项目管理"
   - 任务相关功能 → "标注任务"

2. **合并"团队协作"到"知识与文章"**

   - 原 `/collaboration` 路径下的页面移到 `/articles/collaboration` 下
   - 保持原有组件路径不变

3. **调整子菜单顺序**
   - "个人绩效"优先于"团队绩效"

---

## ✅ 优势

### 1. **更清晰的功能分类**

- 项目管理和任务管理分离，职责更明确
- 知识内容集中管理

### 2. **更符合业务特点**

- "标注任务"、"标注绩效"突出系统核心业务
- "项目列表"更准确地描述功能

### 3. **更好的用户体验**

- 减少一级菜单数量（从7个减少到6个）
- 相关功能更集中
- 导航路径更清晰

### 4. **更易维护**

- 菜单结构更符合逻辑
- 功能扩展更容易

---

## 🧪 测试步骤

### 1. **后端测试**

```bash
# 1. 重启后端服务
cd backend
python -m uvicorn app.main:app --reload

# 2. 测试菜单接口
curl -X GET "http://localhost:8000/menu/list" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### 2. **前端测试**

1. **清除浏览器缓存** - 确保加载最新菜单
2. **登录系统** - 使用管理员账号
3. **检查导航栏**：
   - ✅ "项目管理"下有2个子菜单
   - ✅ "标注任务"下有3个子菜单
   - ✅ "知识与文章"下有3个子菜单（会议记录、模型测试、团队协作）
   - ✅ "标注绩效"下有2个子菜单（个人绩效、团队绩效）
4. **功能测试**：
   - ✅ 点击"项目列表"，确认页面正常显示
   - ✅ 点击"团队协作"，确认跳转到原协作文档页面
   - ✅ 点击"个人绩效"、"团队绩效"，确认页面正常

### 3. **权限测试**

使用不同角色登录，确认菜单权限过滤正常：

- **管理员** - 应该看到所有菜单
- **标注员** - 应该看到标注相关菜单
- **审核员** - 应该看到审核相关菜单

---

## ⚠️ 注意事项

### 1. **路由兼容性**

所有原有路由保持不变，只是菜单组织方式改变：

- ✅ `/project/dashboard` - 项目仪表板
- ✅ `/project/management` - 项目列表（原项目管理）
- ✅ `/project/task-pool` - 任务池
- ✅ `/project/my-workspace` - 我的工作台
- ✅ `/project/task-review` - 任务审核
- ✅ `/articles/collaboration` - 团队协作（原 `/collaboration/index`）
- ✅ `/performance/personal` - 个人绩效
- ✅ `/performance/team` - 团队绩效

### 2. **前端路由检查**

确认前端路由配置与菜单配置保持一致：

- 检查 `src/router` 下的路由定义
- 确认所有路由路径正确

### 3. **书签和收藏**

用户可能需要更新书签：

- 原"项目管理"页面现在叫"项目列表"
- 原"团队协作-文档"现在在"知识与文章-团队协作"下

---

## 📚 相关文档

- `backend/app/api/menu.py` - 菜单配置实现
- `src/router/` - 前端路由配置

---

**最后更新**: 2025-10-16  
**作者**: AI Assistant  
**版本**: v1.0（导航栏菜单重组）
