# ä»»åŠ¡åˆ—è¡¨æ˜¾ç¤ºå½±åƒURLä¼˜åŒ–

## ğŸ“‹ ä¼˜åŒ–æ¦‚è¿°

æœ¬æ¬¡ä¼˜åŒ–è§£å†³äº†CSVå¯¼å‡ºæ—¶é—´æ˜¾ç¤ºé—®é¢˜ï¼Œå¹¶åœ¨ä¸‰ä¸ªä»»åŠ¡é¡µé¢ï¼ˆä»»åŠ¡æ± ã€ä»»åŠ¡å®¡æ ¸ã€æˆ‘çš„å·¥ä½œå°ï¼‰çš„ä»»åŠ¡åˆ—è¡¨å’ŒæŸ¥çœ‹è¯¦æƒ…å¼¹çª—ä¸­æ·»åŠ äº†å½±åƒURLæ˜¾ç¤ºï¼ŒåŒæ—¶ç§»é™¤äº†ä¼˜å…ˆçº§åˆ—å’Œä¼˜å…ˆçº§ç­›é€‰åŠŸèƒ½ã€‚

## ğŸ¯ ä¼˜åŒ–å†…å®¹

### 1. ä¿®å¤CSVå¯¼å‡ºæ—¶é—´æ˜¾ç¤ºé—®é¢˜

**é—®é¢˜**: å¯¼å‡ºçš„CSVæ–‡ä»¶ä¸­æ—¶é—´åˆ—æ˜¾ç¤ºä¸º `#####`

**åŸå› **: ä½¿ç”¨ `toLocaleString()` ç”Ÿæˆçš„æ—¶é—´æ ¼å¼è¿‡é•¿ï¼ŒExcelåˆ—å®½åº¦ä¸å¤Ÿå¯¼è‡´æ˜¾ç¤ºä¸º `#####`

**è§£å†³æ–¹æ¡ˆ**: æ”¹ç”¨å›ºå®šæ ¼å¼ `YYYY-MM-DD HH:mm`

```typescript
// âŒ ä¿®å¤å‰
return new Date(time).toLocaleString('zh-CN', {
  year: 'numeric',
  month: '2-digit',
  day: '2-digit',
  hour: '2-digit',
  minute: '2-digit'
})
// è¾“å‡º: "2025/9/4 10:13:00" (è¿‡é•¿)

// âœ… ä¿®å¤å
const date = new Date(time)
const year = date.getFullYear()
const month = String(date.getMonth() + 1).padStart(2, '0')
const day = String(date.getDate()).padStart(2, '0')
const hour = String(date.getHours()).padStart(2, '0')
const minute = String(date.getMinutes()).padStart(2, '0')
return `${year}-${month}-${day} ${hour}:${minute}`
// è¾“å‡º: "2025-09-04 10:13" (ç®€æ´)
```

### 2. æ·»åŠ å½±åƒURLåˆ—

åœ¨ä¸‰ä¸ªä»»åŠ¡é¡µé¢çš„åˆ—è¡¨ä¸­ï¼Œ**å°†ä¼˜å…ˆçº§åˆ—æ›¿æ¢ä¸ºå½±åƒURLåˆ—**ï¼š

| é¡µé¢       | åŸåˆ—   | æ–°åˆ—    | ä½ç½®       |
| ---------- | ------ | ------- | ---------- |
| ä»»åŠ¡æ±      | ä¼˜å…ˆçº§ | å½±åƒURL | é¡¹ç›®åˆ†ç±»å |
| ä»»åŠ¡å®¡æ ¸   | ä¼˜å…ˆçº§ | å½±åƒURL | æ ‡æ³¨å‘˜å   |
| æˆ‘çš„å·¥ä½œå° | -      | å½±åƒURL | ä»»åŠ¡æè¿°å |

**åˆ—é…ç½®**:

```vue
<el-table-column prop="imageUrl" label="å½±åƒURL" min-width="200" show-overflow-tooltip>
  <template #default="{ row }">
    <div v-if="row.imageUrl || row.image_url" class="image-url-cell">
      <a :href="row.imageUrl || row.image_url" target="_blank" class="image-url-link">
        {{ row.imageUrl || row.image_url }}
      </a>
    </div>
    <span v-else class="text-gray-400">æœªè®¾ç½®</span>
  </template>
</el-table-column>
```

### 3. ç§»é™¤ä¼˜å…ˆçº§ç­›é€‰

**ä»»åŠ¡æ± é¡µé¢** - ç§»é™¤äº†ä¼˜å…ˆçº§ç­›é€‰ä¸‹æ‹‰æ¡†ï¼š

```vue
<!-- âŒ ç§»é™¤å‰ -->
<el-select v-model="searchForm.priority" placeholder="ä¼˜å…ˆçº§" clearable @change="handleSearch">
  <el-option label="å…¨éƒ¨ä¼˜å…ˆçº§" value="" />
  <el-option label="ä½" value="low" />
  <el-option label="ä¸­" value="medium" />
  <el-option label="é«˜" value="high" />
  <el-option label="ç´§æ€¥" value="urgent" />
</el-select>

<!-- âœ… ç§»é™¤å -->
<!-- ä¸å†æ˜¾ç¤ºä¼˜å…ˆçº§ç­›é€‰ -->
```

### 4. ä»»åŠ¡è¯¦æƒ…å¼¹çª—æ˜¾ç¤ºå½±åƒURL

åœ¨ä¸‰ä¸ªä»»åŠ¡é¡µé¢çš„è¯¦æƒ…å¯¹è¯æ¡†ä¸­æ·»åŠ å½±åƒURLæ˜¾ç¤ºï¼š

```vue
<el-descriptions-item label="å½±åƒURL" :span="2">
  <a v-if="(currentTask as any).imageUrl || (currentTask as any).image_url" 
     :href="(currentTask as any).imageUrl || (currentTask as any).image_url" 
     target="_blank" 
     class="image-url-link">
    {{ (currentTask as any).imageUrl || (currentTask as any).image_url }}
  </a>
  <span v-else class="text-gray-400">æœªè®¾ç½®</span>
</el-descriptions-item>
```

**æ·»åŠ ä½ç½®**:

- **ä»»åŠ¡æ± **: ç¬¬532-540è¡Œï¼ˆä»»åŠ¡çŠ¶æ€åï¼‰
- **ä»»åŠ¡å®¡æ ¸**: ç¬¬677-685è¡Œï¼ˆä»»åŠ¡çŠ¶æ€åï¼‰
- **æˆ‘çš„å·¥ä½œå°**: ç¬¬428-436è¡Œï¼ˆä»»åŠ¡çŠ¶æ€åï¼‰

## ğŸ“ ä¿®æ”¹æ–‡ä»¶æ¸…å•

### 1. ä»»åŠ¡æ± é¡µé¢

**æ–‡ä»¶**: `src/views/project/task-pool/index.vue`

**ä¿®æ”¹å†…å®¹**:

- âœ… ç¬¬202-211è¡Œï¼šå°†ä¼˜å…ˆçº§åˆ—æ”¹ä¸ºå½±åƒURLåˆ—
- âœ… ç¬¬132è¡Œï¼šç§»é™¤ä¼˜å…ˆçº§ç­›é€‰ä¸‹æ‹‰æ¡†
- âœ… ç¬¬617-621è¡Œï¼šåˆ é™¤ `searchForm.priority` å­—æ®µ
- âœ… ç¬¬671è¡Œï¼šåˆ é™¤ API è¯·æ±‚ä¸­çš„ `priority` å‚æ•°
- âœ… ç¬¬725è¡Œï¼šé‡ç½®æœç´¢æ—¶åˆ é™¤ `priority` æ¸…ç©º
- âœ… ç¬¬532-540è¡Œï¼šä»»åŠ¡è¯¦æƒ…å¯¹è¯æ¡†æ·»åŠ å½±åƒURLæ˜¾ç¤º
- âœ… ç¬¬1114-1128è¡Œï¼šä¿®å¤CSVå¯¼å‡ºæ—¶é—´æ ¼å¼
- âœ… ç¬¬1419-1430è¡Œï¼šæ·»åŠ å½±åƒURLé“¾æ¥æ ·å¼

### 2. ä»»åŠ¡å®¡æ ¸é¡µé¢

**æ–‡ä»¶**: `src/views/project/task-review/index.vue`

**ä¿®æ”¹å†…å®¹**:

- âœ… ç¬¬197-207è¡Œï¼šå°†ä¼˜å…ˆçº§åˆ—æ”¹ä¸ºå½±åƒURLåˆ—
- âœ… ç¬¬677-685è¡Œï¼šè¯¦æƒ…å¯¹è¯æ¡†æ·»åŠ å½±åƒURLæ˜¾ç¤º
- âœ… ç¬¬1972-1983è¡Œï¼šæ·»åŠ å½±åƒURLé“¾æ¥æ ·å¼

### 3. æˆ‘çš„å·¥ä½œå°é¡µé¢

**æ–‡ä»¶**: `src/views/project/my-workspace/index.vue`

**ä¿®æ”¹å†…å®¹**:

- âœ… ç¬¬150-160è¡Œï¼šæ–°å¢å½±åƒURLåˆ—ï¼ˆåœ¨ä»»åŠ¡æè¿°å’Œé¡¹ç›®åˆ†ç±»ä¹‹é—´ï¼‰
- âœ… ç¬¬428-436è¡Œï¼šè¯¦æƒ…å¯¹è¯æ¡†æ·»åŠ å½±åƒURLæ˜¾ç¤º
- âœ… ç¬¬1461-1472è¡Œï¼šæ·»åŠ å½±åƒURLé“¾æ¥æ ·å¼

## ğŸ¨ æ ·å¼è®¾è®¡

### å½±åƒURLé“¾æ¥æ ·å¼

```scss
.image-url-cell {
  .image-url-link {
    color: var(--art-primary-color);
    text-decoration: none;
    word-break: break-all; // é•¿URLè‡ªåŠ¨æ¢è¡Œ

    &:hover {
      text-decoration: underline;
    }
  }
}
```

**ç‰¹ç‚¹**:

- âœ… ä½¿ç”¨ä¸»é¢˜è‰²æ˜¾ç¤ºé“¾æ¥
- âœ… é•¿URLè‡ªåŠ¨æ¢è¡Œï¼Œä¸ä¼šæ’‘ç ´åˆ—å®½
- âœ… Hover æ—¶æ˜¾ç¤ºä¸‹åˆ’çº¿æç¤ºå¯ç‚¹å‡»
- âœ… ç‚¹å‡»åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ï¼ˆ`target="_blank"`ï¼‰

## ğŸ“Š æ•ˆæœå¯¹æ¯”

### CSVå¯¼å‡ºæ—¶é—´æ˜¾ç¤º

| ä¿®æ”¹å‰             | ä¿®æ”¹å                        |
| ------------------ | ----------------------------- |
| `#####` (æ˜¾ç¤ºå¼‚å¸¸) | `2025-09-04 10:13` (æ­£å¸¸æ˜¾ç¤º) |

### ä»»åŠ¡åˆ—è¡¨åˆ—é…ç½®

#### ä»»åŠ¡æ± é¡µé¢

| ä¿®æ”¹å‰ | ä¿®æ”¹å |
| --- | --- |
| ä»»åŠ¡æ ‡é¢˜ \| æ‰€å±é¡¹ç›® \| ä»»åŠ¡æè¿° \| é¡¹ç›®åˆ†ç±» \| **ä¼˜å…ˆçº§** \| åˆ†é…ç»™ \| çŠ¶æ€ | ä»»åŠ¡æ ‡é¢˜ \| æ‰€å±é¡¹ç›® \| ä»»åŠ¡æè¿° \| é¡¹ç›®åˆ†ç±» \| **å½±åƒURL** \| åˆ†é…ç»™ \| çŠ¶æ€ |

#### ä»»åŠ¡å®¡æ ¸é¡µé¢

| ä¿®æ”¹å‰ | ä¿®æ”¹å |
| --- | --- |
| ä»»åŠ¡æ ‡é¢˜ \| æ‰€å±é¡¹ç›® \| é¡¹ç›®åˆ†ç±» \| æ ‡æ³¨å‘˜ \| **ä¼˜å…ˆçº§** \| å·¥æ—¶ \| çŠ¶æ€ | ä»»åŠ¡æ ‡é¢˜ \| æ‰€å±é¡¹ç›® \| é¡¹ç›®åˆ†ç±» \| æ ‡æ³¨å‘˜ \| **å½±åƒURL** \| å·¥æ—¶ \| çŠ¶æ€ |

#### æˆ‘çš„å·¥ä½œå°é¡µé¢

| ä¿®æ”¹å‰ | ä¿®æ”¹å |
| --- | --- |
| ä»»åŠ¡æ ‡é¢˜ \| æ‰€å±é¡¹ç›® \| ä»»åŠ¡æè¿° \| é¡¹ç›®åˆ†ç±» \| çŠ¶æ€ | ä»»åŠ¡æ ‡é¢˜ \| æ‰€å±é¡¹ç›® \| ä»»åŠ¡æè¿° \| **å½±åƒURL** \| é¡¹ç›®åˆ†ç±» \| çŠ¶æ€ |

### ç­›é€‰å™¨é…ç½®ï¼ˆä»»åŠ¡æ± é¡µé¢ï¼‰

| ä¿®æ”¹å‰                                               | ä¿®æ”¹å                                 |
| ---------------------------------------------------- | -------------------------------------- |
| æœç´¢æ¡† \| é¡¹ç›® \| çŠ¶æ€ \| **ä¼˜å…ˆçº§** \| é‡ç½® \| å¯¼å‡º | æœç´¢æ¡† \| é¡¹ç›® \| çŠ¶æ€ \| é‡ç½® \| å¯¼å‡º |

## âœ… æµ‹è¯•éªŒè¯

### CSVå¯¼å‡ºæµ‹è¯•

- [x] å¯¼å‡ºååœ¨Excelä¸­æ‰“å¼€ï¼Œæ—¶é—´åˆ—æ­£å¸¸æ˜¾ç¤ºï¼ˆä¸å†æ˜¯ `#####`ï¼‰
- [x] æ—¶é—´æ ¼å¼ä¸º `YYYY-MM-DD HH:mm`
- [x] ç©ºæ—¶é—´æ˜¾ç¤ºä¸ºç©ºå­—ç¬¦ä¸²ï¼ˆä¸æ˜¯ `-`ï¼‰

### å½±åƒURLæ˜¾ç¤ºæµ‹è¯•

**ä»»åŠ¡åˆ—è¡¨æ˜¾ç¤º**:

- [x] ä»»åŠ¡æ± åˆ—è¡¨ä¸­æ­£ç¡®æ˜¾ç¤ºå½±åƒURL
- [x] ä»»åŠ¡å®¡æ ¸åˆ—è¡¨ä¸­æ­£ç¡®æ˜¾ç¤ºå½±åƒURL
- [x] æˆ‘çš„å·¥ä½œå°åˆ—è¡¨ä¸­æ­£ç¡®æ˜¾ç¤ºå½±åƒURL

**è¯¦æƒ…å¼¹çª—æ˜¾ç¤º**:

- [x] ä»»åŠ¡æ± è¯¦æƒ…å¼¹çª—ä¸­æ­£ç¡®æ˜¾ç¤ºå½±åƒURL
- [x] ä»»åŠ¡å®¡æ ¸è¯¦æƒ…å¼¹çª—ä¸­æ­£ç¡®æ˜¾ç¤ºå½±åƒURL
- [x] æˆ‘çš„å·¥ä½œå°è¯¦æƒ…å¼¹çª—ä¸­æ­£ç¡®æ˜¾ç¤ºå½±åƒURL

**é“¾æ¥åŠŸèƒ½**:

- [x] æœ‰URLæ—¶æ˜¾ç¤ºä¸ºå¯ç‚¹å‡»é“¾æ¥
- [x] æ— URLæ—¶æ˜¾ç¤º"æœªè®¾ç½®"
- [x] ç‚¹å‡»é“¾æ¥åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€
- [x] é•¿URLè‡ªåŠ¨æ¢è¡Œï¼Œä¸æ’‘ç ´åˆ—å®½
- [x] Hover æ—¶æ˜¾ç¤ºä¸‹åˆ’çº¿

### ç­›é€‰åŠŸèƒ½æµ‹è¯•

- [x] ä»»åŠ¡æ± é¡µé¢ç§»é™¤ä¼˜å…ˆçº§ç­›é€‰åï¼Œç­›é€‰å™¨ä»æ­£å¸¸å·¥ä½œ
- [x] é‡ç½®æŒ‰é’®æ¸…ç©ºæ‰€æœ‰ç­›é€‰æ¡ä»¶
- [x] API è¯·æ±‚ä¸å†åŒ…å« `priority` å‚æ•°

### å…¼å®¹æ€§æµ‹è¯•

- [x] æ”¯æŒ `imageUrl` å’Œ `image_url` ä¸¤ç§å­—æ®µå
- [x] æ”¯æŒ `row.imageUrl` å’Œ `row.image_url` ä¸¤ç§è®¿é—®æ–¹å¼
- [x] ç©ºå€¼å¤„ç†æ­£ç¡®

## ğŸŒŸ æŠ€æœ¯äº®ç‚¹

### 1. æ—¶é—´æ ¼å¼ä¼˜åŒ–

```typescript
// ä½¿ç”¨å›ºå®šé•¿åº¦çš„æ—¶é—´æ ¼å¼ï¼Œé¿å…Excelåˆ—å®½ä¸è¶³
const formatTime = (time: any) => {
  if (!time) return ''
  const date = new Date(time)
  return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`
}
```

### 2. å­—æ®µå…¼å®¹æ€§

```vue
<!-- åŒæ—¶æ”¯æŒé©¼å³°å’Œä¸‹åˆ’çº¿å‘½å -->
<a :href="row.imageUrl || row.image_url" target="_blank">
  {{ row.imageUrl || row.image_url }}
</a>
```

### 3. é•¿URLæ¢è¡Œ

```scss
// é•¿URLè‡ªåŠ¨æ¢è¡Œï¼Œä¸ä¼šæ¨ªå‘æ»šåŠ¨
.image-url-link {
  word-break: break-all;
}
```

### 4. æ–°æ ‡ç­¾é¡µæ‰“å¼€

```html
<!-- ç‚¹å‡»é“¾æ¥ä¸å½±å“å½“å‰é¡µé¢ -->
<a :href="url" target="_blank">{{ url }}</a>
```

## ğŸ“ˆ ç”¨æˆ·ä»·å€¼

### 1. CSVå¯¼å‡ºä½“éªŒæå‡

- âœ… æ—¶é—´æ•°æ®åœ¨Excelä¸­æ­£å¸¸æ˜¾ç¤º
- âœ… æ— éœ€æ‰‹åŠ¨è°ƒæ•´åˆ—å®½
- âœ… å¯ç›´æ¥è¿›è¡Œæ•°æ®åˆ†æ

### 2. å½±åƒURLå¯è§æ€§

- âœ… åœ¨åˆ—è¡¨ä¸­å¿«é€ŸæŸ¥çœ‹å½±åƒåœ°å€
- âœ… ä¸€é”®è·³è½¬åˆ°å½±åƒæ–‡ä»¶
- âœ… æ–¹ä¾¿æ‰¹é‡æ£€æŸ¥å½±åƒé“¾æ¥

### 3. ç•Œé¢ç®€åŒ–

- âœ… ç§»é™¤ä½é¢‘ä½¿ç”¨çš„ä¼˜å…ˆçº§ç­›é€‰
- âœ… ç•Œé¢æ›´æ¸…çˆ½ï¼Œèšç„¦æ ¸å¿ƒåŠŸèƒ½
- âœ… å‡å°‘ç”¨æˆ·è®¤çŸ¥è´Ÿæ‹…

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [ä»»åŠ¡æ± å¯¼å‡ºåŠŸèƒ½å®ç°](./TASK_POOL_EXPORT_FEATURE.md)
- [ä»»åŠ¡æ± ç­›é€‰å¡ç‰‡ä¼˜åŒ–](./TASK_POOL_FILTER_ENHANCEMENT.md)
- [æˆ‘çš„å·¥ä½œå°ç­›é€‰ä¼˜åŒ–](./MY_WORKSPACE_FILTER_ENHANCEMENT.md)

---

**ç‰ˆæœ¬**: v1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025-11-03  
**ä½œè€…**: AI Assistant
