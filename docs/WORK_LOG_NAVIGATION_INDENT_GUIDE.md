# 📐 工作周导航栏缩进调整指南

> 🗓️ **更新日期**: 2025-10-27  
> 🎯 **功能**: 调整工作周导航栏的树形结构缩进

---

## 🎨 缩进调整位置

### 📁 文件位置

```
src/views/work-log/index.vue
```

### 📍 代码位置

在文件的第 **60 行**左右，找到 `<el-tree>` 组件：

```vue
<!-- 工作周树 -->
<el-tree
  ref="treeRef"
  :data="treeData"
  node-key="key"
  :highlight-current="true"
  :current-node-key="currentWeekId"
  :expand-on-click-node="false"
  :default-expanded-keys="expandedKeys"
  :filter-node-method="filterNode"
  :indent="12"                    <!-- ⭐ 这里控制缩进 -->
  @node-click="onNodeClick"
>
```

---

## ⚙️ 缩进设置说明

### 当前设置

```vue
:indent="12"
```

**效果：** 每一级缩进 **12px**

### 缩进值对照表

| 缩进值         | 效果         | 适用场景              |
| -------------- | ------------ | --------------------- |
| `:indent="8"`  | 很紧凑       | 节省空间，层级很多时  |
| `:indent="10"` | 紧凑         | 适合窄屏显示          |
| `:indent="12"` | 适中（推荐） | 平衡美观和空间 ⭐     |
| `:indent="14"` | 舒适         | 标准间距              |
| `:indent="16"` | 宽松         | 层级较少时            |
| `:indent="18"` | 默认值       | Element Plus 原始缩进 |
| `:indent="20"` | 很宽松       | 强调层级关系          |

---

## 📊 树形结构层级

工作周导航栏使用三级结构：

```
第一级：工作组（如：标注组、算法组）
   ↓ 缩进 12px
第二级：年月分组（如：2025年10月）
   ↓ 缩进 12px
第三级：具体工作周（如：2025W44标注组工作计划）
```

### 缩进计算

- **第一级（工作组）**：无缩进（0px）
- **第二级（年月）**：1 × 12px = 12px
- **第三级（工作周）**：2 × 12px = 24px

---

## 🎨 自定义缩进示例

### 示例 1：更紧凑的缩进（8px）

```vue
<el-tree :indent="8" ...其他属性></el-tree>
```

**效果：**

- 第二级缩进：8px
- 第三级缩进：16px
- 适合：导航栏宽度较窄的情况

### 示例 2：标准缩进（14px）

```vue
<el-tree :indent="14" ...其他属性></el-tree>
```

**效果：**

- 第二级缩进：14px
- 第三级缩进：28px
- 适合：标准显示，层级清晰

### 示例 3：恢复默认（18px）

```vue
<el-tree :indent="18" ...其他属性></el-tree>
```

或者直接删除 `:indent` 属性：

```vue
<el-tree
  <!-- 不设置 indent，使用默认值 18px -->
  ...其他属性
>
```

---

## 🔍 对比效果

### 修改前（默认 18px）

```
标注组
   └─ 2025年10月         ← 缩进 18px
      └─ 2025W44计划      ← 缩进 36px (18×2)
```

### 修改后（12px）

```
标注组
  └─ 2025年10月          ← 缩进 12px
    └─ 2025W44计划        ← 缩进 24px (12×2)
```

**对比：**

- 第二级：减少 6px（18 → 12）
- 第三级：减少 12px（36 → 24）
- **整体更紧凑，节省空间** ✨

---

## 💡 高级自定义

### 方法 1：通过属性统一调整（推荐）✅

**位置：** 在 `<el-tree>` 标签上设置 `:indent` 属性

**优点：**

- ✅ 简单直接
- ✅ 影响所有层级
- ✅ 易于维护

**代码：**

```vue
<el-tree :indent="12" ...></el-tree>
```

---

### 方法 2：通过 CSS 精确控制每一级

**位置：** 在 `<style scoped>` 中添加样式（约 1770 行附近）

**优点：**

- ✅ 可以针对不同层级设置不同缩进
- ✅ 更精细的控制

**代码示例：**

```scss
// 在 <style scoped> 中添加
:deep(.el-tree) {
  // 第二级节点（年月分组）
  .el-tree-node:not(.el-tree-node--expanded) > .el-tree-node__children > .el-tree-node {
    padding-left: 10px !important; // 自定义第二级缩进
  }

  // 第三级节点（具体工作周）
  .el-tree-node__children .el-tree-node__children > .el-tree-node {
    padding-left: 20px !important; // 自定义第三级缩进
  }
}
```

**注意：** 这种方法较复杂，通常不推荐使用，除非有特殊需求。

---

## 🎯 推荐配置

### 对于不同屏幕尺寸

| 屏幕尺寸             | 导航栏宽度 | 推荐缩进          |
| -------------------- | ---------- | ----------------- |
| 小屏 (< 1366px)      | 240px      | `:indent="8"`     |
| 标准屏 (1366-1920px) | 280px      | `:indent="12"` ⭐ |
| 大屏 (> 1920px)      | 320px      | `:indent="16"`    |

### 对于不同工作组数量

| 工作组数量 | 平均工作周数 | 推荐缩进          |
| ---------- | ------------ | ----------------- |
| 2-3 个     | < 20 周      | `:indent="14"`    |
| 4-5 个     | 20-50 周     | `:indent="12"` ⭐ |
| 6+ 个      | > 50 周      | `:indent="10"`    |

---

## 🔧 调整步骤

### 1️⃣ 打开文件

```
src/views/work-log/index.vue
```

### 2️⃣ 定位代码

- 按 `Ctrl + G`（或 `Cmd + G`）跳转到第 **60 行**
- 或搜索 `<el-tree`

### 3️⃣ 修改缩进值

```vue
<el-tree
  :indent="12"    <!-- 修改这里的数字 -->
  ...
>
```

### 4️⃣ 保存并测试

- 保存文件（`Ctrl + S` 或 `Cmd + S`）
- 刷新浏览器（`F5` 或 `Ctrl + R`）
- 查看效果

### 5️⃣ 微调

- 如果觉得还是太宽，改为 `10` 或 `8`
- 如果觉得太窄，改为 `14` 或 `16`
- 反复测试，直到满意

---

## 📸 效果预览

### indent="8" - 很紧凑

```
标注组
 └─ 2025年10月
   └─ 2025W44计划
```

### indent="12" - 适中（当前）⭐

```
标注组
  └─ 2025年10月
    └─ 2025W44计划
```

### indent="16" - 宽松

```
标注组
   └─ 2025年10月
     └─ 2025W44计划
```

---

## ⚠️ 注意事项

1. **缩进不宜过小**

   - 小于 6px 会导致层级关系不明显
   - 展开/收起图标可能重叠

2. **缩进不宜过大**

   - 大于 24px 会浪费导航栏空间
   - 第三级可能超出可视区域

3. **与导航栏宽度配合**

   - 导航栏宽度在第 **1591 行**左右：

   ```scss
   .nav-col {
     width: 280px; // 可以调整导航栏整体宽度
     min-width: 280px;
     max-width: 400px;
   }
   ```

4. **考虑工作周标题长度**
   - 如果工作周标题很长（如：`2025W44标注组工作计划`）
   - 缩进过大会导致文字换行或被截断
   - 建议配合调整导航栏宽度

---

## 🎨 完整样式参考

### 当前导航栏配置

```vue
<!-- 导航树 -->
<el-tree
  :indent="12"                    <!-- 缩进：12px -->
  :data="treeData"                <!-- 树形数据 -->
  node-key="key"                  <!-- 节点唯一标识 -->
  :highlight-current="true"       <!-- 高亮当前节点 -->
  @node-click="onNodeClick"       <!-- 节点点击事件 -->
>
```

### 导航栏容器宽度

```scss
// 约 1591 行
.nav-col {
  width: 280px;        <!-- 默认宽度 -->
  min-width: 280px;    <!-- 最小宽度 -->
  max-width: 400px;    <!-- 最大宽度 -->
}
```

---

## 🔮 其他优化建议

### 1. 调整导航栏整体宽度

如果调整缩进后觉得空间仍然不够，可以调整导航栏宽度：

**位置：** `src/views/work-log/index.vue` 约 **1591 行**

```scss
.nav-col {
  width: 300px; // 从 280px 改为 300px
  min-width: 300px;
  max-width: 400px;
}
```

### 2. 调整树节点高度

**位置：** 约 **1765 行**

```scss
:deep(.el-tree-node__content) {
  height: 40px; // 从 44px 改为 40px，更紧凑
  padding: 4px 0;
}
```

### 3. 调整展开/收起图标间距

**位置：** 约 **1777 行**

```scss
:deep(.el-tree-node__expand-icon) {
  margin-right: 6px; // 从 8px 改为 6px，节省空间
}
```

---

## 📋 快速参考

| 需求           | 修改位置              | 修改内容               |
| -------------- | --------------------- | ---------------------- |
| 调整缩进       | 第 60 行 `<el-tree>`  | `:indent="数字"`       |
| 调整导航栏宽度 | 第 1591 行 `.nav-col` | `width: 数字px`        |
| 调整节点高度   | 第 1765 行            | `height: 数字px`       |
| 调整图标间距   | 第 1777 行            | `margin-right: 数字px` |

---

## 💡 总结

✅ **已完成修改**：

- 将缩进从默认的 `18px` 调整为 `12px`
- 第三级工作周的缩进从 `36px` 减少到 `24px`
- 导航栏更紧凑，节省空间

🎯 **修改位置**：

- 文件：`src/views/work-log/index.vue`
- 行号：约第 **60 行**
- 属性：`:indent="12"`

🔧 **如需进一步调整**：

- 更紧凑：改为 `8` 或 `10`
- 更宽松：改为 `14` 或 `16`
- 恢复默认：改为 `18` 或删除该属性

---

**🎉 导航栏缩进调整完成！**
